<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ุฎุฑูุทุฉ ูุจูู โ ูููุงุช ูุชุนุฏุฏุฉ + ุชุตุฏูุฑ PDF/GeoJSON (v2 โ ุทุงุจูุงู)</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.css" />
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <div class="title">ุฎุฑูุทุฉ ูุจูู ุชูุงุนููุฉ โ ูููุงุช ููุฑุงูู (v2)</div>
    <div class="controls">
      <label>ุงูุทุงุจู:</label>
      <select id="floorSelect"></select>

      <label for="typeSelect">ุงูููุน:</label>
      <select id="typeSelect">
        <option value="classroom">ูุงุนุฉ ุฏุฑุงุณูุฉ</option>
        <option value="lab">ูุนูู</option>
        <option value="lobby">ุจูู</option>
        <option value="elevator">ูุตุนุฏ</option>
        <option value="entrance">ูุฏุฎู</option>
        <option value="exit">ูุฎุฑุฌ</option>
        <option value="stair_up">ุฏุฑุฌ ุตุนูุฏ</option>
        <option value="stair_down">ุฏุฑุฌ ูุฒูู</option>
        <option value="service">ุบุฑูุฉ ุฎุฏูุงุช</option>
        <option value="restroom">ุฏูุฑุงุช ููุงู</option>
        <option value="coffee_shop">ูููู ุดูุจ</option>
        <option value="admin_office">ููุชุจ ุฅุฏุงุฑู</option>
        <option value="activity_hall">ูุงุนุฉ ุฃูุดุทุฉ</option>
        <option value="meeting_room">ูุงุนุฉ ุงุฌุชูุงุนุงุช</option>
      </select>

      <label for="collegeSelect">ุงููููุฉ:</label>
      <select id="collegeSelect">
        <option value="ูููุฉ ุนููู ูููุฏุณุฉ ุงูุญุงุณุจุงุช">ูููุฉ ุนููู ูููุฏุณุฉ ุงูุญุงุณุจุงุช</option>
        <option value="ูููุฉ ุงูููุฏุณุฉ">ูููุฉ ุงูููุฏุณุฉ</option>
        <option value="ุงููููุฉ ุงูุชุทุจูููุฉ">ุงููููุฉ ุงูุชุทุจูููุฉ</option>
      </select>

      <input id="searchBox" type="search" placeholder="ุงุจุญุซ ุจุงูุงุณู/ุงูุฑูู/ุงููุณู/ุงููููุฉโฆ" />
      <button id="btnExportTop" class="primary" title="ุชุตุฏูุฑ GeoJSON" disabled>โค GeoJSON</button>
      <label class="import-label" for="fileImport" title="ุงุณุชูุฑุงุฏ GeoJSON">โค ุงุณุชูุฑุงุฏ</label>
      <input id="fileImport" type="file" accept="application/json,.geojson"  />
      <button id="btnExportPDF" class="outline" title="ุชุตุฏูุฑ PDF">๐จ๏ธ PDF</button>
      <button id="btnDeleteMode" class="danger" title="ูุถุน ุญุฐู ุงูุนูุงุตุฑ">๐๏ธ ุญุฐู</button>
    </div>
  </header>

  <main>
    <div id="map"></div>
    <aside id="panel">
      <h2>ุงูุนูุงุตุฑ</h2>
      <div class="stack">
        <button id="btnExportSide" class="primary full" disabled>โค ุชุตุฏูุฑ GeoJSON</button>
        <button id="btnExportPDF_side" class="outline full" >๐จ๏ธ ุชุตุฏูุฑ PDF</button>
        <button id="btnDeleteModeSide" class="danger full" disabled>๐๏ธ ูุถุน ุญุฐู ุงูุนูุงุตุฑ</button>
      </div>
      <hr/>

      <h3>ููุชุฑ ุงููููุงุช</h3>
      <div id="collegeFilters" class="filters"></div>
      <small class="hint">ุฃูุบู ุชุญุฏูุฏ ูููุฉ ูุฅุฎูุงุก ุฌููุน ูุฑุงูููุง. ุนูุฏ ุชูุนูู <b>ูุถุน ุงูุญุฐู</b> ุงููุฑ ุนูู ุฃู ุนูุตุฑ ูุฅุฒุงูุชู.</small>
      <hr/>

      <h3>ูุชุงุฆุฌ ุงูุจุญุซ</h3>
      <div id="results"></div>
      <hr/>

      <h3>ุฏููู ุงูุฃููุงุน</h3>
      <div class="legend">
        <div><span class="sw classroom"></span> ูุงุนุฉ ุฏุฑุงุณูุฉ</div>
        <div><span class="sw lab"></span> ูุนูู</div>
        <div><span class="sw lobby"></span> ุจูู</div>
        <div><span class="sw service"></span> ุบุฑูุฉ ุฎุฏูุงุช</div>
        <div><span class="sw restroom"></span> ุฏูุฑุงุช ููุงู</div>
        <div><span class="sw coffee_shop"></span> ูููู ุดูุจ</div>
        <div><span class="sw admin_office"></span> ููุชุจ ุฅุฏุงุฑู</div>
        <div><span class="sw activity_hall"></span> ูุงุนุฉ ุฃูุดุทุฉ</div>
        <div><span class="sw meeting_room"></span> ูุงุนุฉ ุงุฌุชูุงุนุงุช</div>
        <div><span class="sw marker"></span> ูุตุนุฏ / ูุฏุฎู / ูุฎุฑุฌ / ุฏุฑุฌ ุตุนูุฏ / ุฏุฑุฌ ูุฒูู</div>
      </div>
    </aside>
  </main>

  <script>
    // ุชุนุฑูู ุงูุทูุงุจู: ุทุงุจูุงู ููุท
    window.__FLOOR_IMAGES__ = [
      { name: 'ุทุงุจู 1', file: 'floor_1.png' },
      { name: 'ุทุงุจู 2', file: 'floor_2.png' }
    ];
    // ุชุนุฑูู ุงููููุงุช ุงูุซุงุจุชุฉ
    window.__COLLEGES__ = [
      'ูููุฉ ุนููู ูููุฏุณุฉ ุงูุญุงุณุจุงุช',
      'ูููุฉ ุงูููุฏุณุฉ',
      'ุงููููุฉ ุงูุชุทุจูููุฉ'
    ];
  </script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <script src="script.js"></script>
</body>
</html>